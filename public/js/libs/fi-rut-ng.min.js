!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).rut=e()}}(function(){return function e(t,r,n){function i(o,a){if(!r[o]){if(!t[o]){var f="function"==typeof require&&require;if(!a&&f)return f(o,!0);if(u)return u(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var s=r[o]={exports:{}};t[o][0].call(s.exports,function(e){var r=t[o][1][e];return i(r||e)},s,s.exports,e,t,r,n)}return r[o].exports}for(var u="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,r){"use strict";function n(e,t){var r=(e=(e+"").replace(o,l)).substr(-1,1).toLowerCase(),n=e.substr(0,e.length-1).replace(a,l).toLowerCase();return t?[n,r]:n+r}function i(e){if(!(e=n(e))||!String(e).length)return null;for(var t=0,r=1;e;e=Math.floor(parseInt(e)/10))r=(r+e%10*(9-t++%6))%11;return r?r-1+"":c}var u=/(\d)(?=(\d{3})+\b)/g,o=/[^\dk]+/gi,a=/\D+/g,f="$1.",l="",s="-",c="k";t.exports={calculate:i,validate:function(e){if(!e||!(e+"").length)return!1;var t=n(e,!0),r=t[1],u=t[0];return isNaN(r)&&(r=c),r===i(u)},verifier:function(e){return n(e,!0)[1]},digits:function(e){return n(e,!0)[0]},format:function(e){if((e=n(e)).length<3)return e;var t=n(e,!0);return t[0]=t[0].replace(u,f),t.join(s).toLowerCase()},clean:n}},{}]},{},[1])(1)}),function(e){"use strict";function t(e,t){switch(t){case"calculate":return i(e);case"verifier":return o(e);case"validate":return u(e);case"digits":return a(e);case"clean":return l(e);default:return f(e)}}var r=e.angular,n=e.rut,i=n.calculate,u=n.validate,o=n.verifier,a=n.digits,f=n.format,l=n.clean,s=r.module("ngRut",[]);s.factory("ngRut",function(){return n}),s.directive("ngRut",["$log",function(e){return{restrict:"A",require:"ngModel",link:function(t,r,n,i){function o(e){e||a.hasAttribute("required")?i.$setValidity("rut",u(e)):i.$setValidity("rut",!0)}var a=r[0],s="setSelectionRange"in a;"INPUT"===a.tagName?i?(i.$formatters.push(function(e){return o(e),f(i.$modelValue)}),i.$parsers.push(function(e){o(e);var t=f(e),r=2*t.length;return i.$setViewValue(t),i.$render(),s&&setTimeout(a.setSelectionRange.bind(a,r,r)),l(e)})):e.warn("A model should be assigned to the input element!"):e.error("This directive must be used on <INPUT> elements only and element is <%s>",r[0].tagName)}}}]),s.filter("ngRut",function(){return t})}(window);